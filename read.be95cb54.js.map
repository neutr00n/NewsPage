{"mappings":"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","sources":["src/read.js","src/js/read/index.js","src/js/favorites/feature.js","src/js/search/read-search.js"],"sourcesContent":["import './js/mobile-menu';\nimport './js/dark_theme';\n\nimport './js/read';\nimport './js/search/read-search';\n","import { getStorage } from \"../local-storage\";\nimport { markUpPage } from '../markup/index';\nimport { listNews, notFound } from '../refs/index';\nimport { readNewsDateContainer } from '../refs/index';\nimport {\n  newsId,\n  LOCALSTORAGE_KEY,\n  idArrayPars,\n    getNewsArray,\n    deletNews,\n    addToFavorite,\n    auditArrayNews,\n    idDone,\n} from '../favorites/feature'\nlet newsList = null;\n// -----------------------------------------------------------------------------------\nconst localStorageReadNews = getStorage('readNews');\n\n\nconst sortedNews = sortByDate(localStorageReadNews);\nstartPage();\n\n\nfunction startPage() {\n    if (!sortedNews) {\n        notFound.classList.remove('not-found-hidden');\n    } else {\n        createContainerFromDate(sortedNews);\n        renderByDate();\n        \n    };\n};\n\nfunction sortByDate(arr) {\n    const dateSort = {};\n    if (!arr) {\n        return;\n    };\n    for (let object = 0; object < arr.length; object += 1){\n        const date = arr[object].readDate;\n        const objOfArr = arr[object];\n        if (dateSort[date]) { dateSort[date].push(objOfArr) } else {\n            dateSort[date] = [objOfArr];\n        };\n    };\n    return dateSort;\n};\n\nfunction renderCardSet(arr) {\n    const cardSet = arr.map(({photo, title, abstract, date, url, category,id,  idLenght}) => markUpPage(photo, title, abstract, date, url, category, id, idLenght)).join('');\n    return cardSet\n};\n\nfunction createContainerFromDate(obj) {\n    const dates = Object.keys(obj)\n    dates.forEach((date) => {\n        const dateContainer = `<div class='date-card'>\n  <button class='date-btn'><span class='date-btn__text'>${date}</span><span class='read_icon'>\n  <svg class=\"date-btn___arrow\" width=\"14\" height=\"9\" aria-hidden=\"true\" style=\"position: absolute;>\n<symbol id=\"icon-Vector-2-1\" viewBox=\"0 0 50 32\">\n<path d=\"M5.867 0l-5.867 6.080 24.889 25.92 24.889-25.92-5.831-6.080-19.058 19.769-19.058-19.769z\"></path>\n</symbol>\n</svg >\n  </span>\n  </button>\n   <div id='dateNowList' class='list-news dates'></div>\n  </div>`;\n        readNewsDateContainer.insertAdjacentHTML(\"beforeend\", dateContainer)\n    });\n};   \n\n\n\nfunction renderByDate() {\nconst dateButton = document.querySelectorAll('.date-btn');\n    dateButton.forEach(button => {\n        newsList = button.nextSibling.nextSibling;\n        const buttonText = button.firstElementChild.innerText;\n        const arrDates = Object.keys(sortedNews);\n        for (const dates of arrDates) {\n            if (dates === buttonText) {\n                newsList.innerHTML = renderCardSet(sortedNews[dates]);\n                idDone();\n                const containersList = document.querySelectorAll('#dateNowList')\n                containersList.forEach(box => {\n                    auditArrayNews(box);\n                    box.addEventListener('click', getNewsArray);\n                });\n    };\n        };\n        button.addEventListener('click', () => {\n            console.log(button.lastElementChild.firstElementChild)\n            button.lastElementChild.firstElementChild.classList.toggle('arrow_rotate');\n            button.nextSibling.nextSibling.classList.toggle('show');\n           \n            const pageList = document.querySelector('#dateNowList')\n            console.log(pageList)\n            pageList.addEventListener('click', getNewsArray)\n        });\n    });\n};\n","// import {\n//   newsId,\n//   LOCALSTORAGE_KEY,\n//   idArrayPars,\n//     getNewsArray,\n//     deletNews,\n//     addToFavorite,\n//     auditArrayNews,\n//     idDone,\n// idArray,\n// } from '../favorites/localStorage'\n\nexport const LOCALSTORAGE_KEY = 'ID-SAVE-FAVORITE';\nexport let idArray = localStorage.getItem('ID-SAVE-FAVORITE');\nexport let idArrayPars = JSON.parse(idArray) || [];\nexport let newsId = 0;\n\nexport const getNewsArray = function (e) {\n  if (!e.target.classList.contains('button')) {\n    return;\n  } else if (e.target.classList.contains('add')) {\n    deletNews(e);\n  } else {\n    addToFavorite(e);\n  }\n};\n\nexport function deletNews(e) {\n  let id = e.target.closest('.set').attributes[1].value;\n  idArrayPars.map(el => {\n    if (id === el.id) {\n      const index = idArrayPars.map(el => el.id).indexOf(id);\n      console.log(index);\n      idArrayPars.splice(index, 1);\n      localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(idArrayPars));\n      e.target.parentNode.childNodes[1].innerHTML = 'Add To Favorite';\n      e.target.classList.remove('add');\n      e.target.parentNode.childNodes[3].classList.remove('add');\n      return;\n    }\n  });\n}\n\nexport const addToFavorite = function (e) {\n  let arrayFavorites = {\n    photo: e.target.closest('.thumb').childNodes[1].attributes[1].value,\n    date: e.target.closest('.set').childNodes[9].childNodes[1].innerText,\n    url: e.target.closest('.set').childNodes[9].childNodes[3].attributes[0]\n      .value,\n    title: e.target.closest('.set').childNodes[5].innerText,\n    abstract: e.target.closest('.set').childNodes[7].innerText,\n    idLenght: newsId,\n    id: e.target.closest('.set').attributes[1].value,\n    category: e.target.closest('.thumb').childNodes[5].innerText,\n  };\n  idArrayPars.push(arrayFavorites);\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(idArrayPars));\n  e.target.parentNode.childNodes[3].classList.add('add');\n  e.target.classList.add('add');\n  e.target.parentNode.childNodes[1].innerHTML = 'Remove From Favorite';\n\n  newsId += 1;\n};\n\nexport const auditArrayNews = function (arr) {\n  idArrayPars.map(el => {\n    arr.querySelectorAll('.set').forEach(element => {\n      let id = element.dataset.id;\n\n      if (id === el.id) {\n        element\n          .querySelector('.js-button_favorites')\n          .setAttribute('checked', 'true');\n        element.querySelector('.js-button_favorites').classList.add('add');\n        element.querySelector('.icon').classList.add('add');\n        element.querySelector('lable').innerHTML = 'Remove From Favorite';\n      }\n    });\n  });\n};\n\nexport const idDone = function () {\n  if (idArrayPars.length === 0) {\n    return;\n  } else {\n    newsId = idArrayPars[idArrayPars.length - 1].idLenght + 1 || 0;\n  }\n};\n","import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nimport { searchForm, readNewsDateContainer, notFound } from '../refs/index';\nimport { getStorage } from '../local-storage/index';\nimport { markUpPage } from '../markup/index';\nimport { getNewsArray, auditArrayNews, idDone } from '../favorites/feature';\n\nsearchForm.addEventListener('submit', handleSubmitSearchForm);\nidDone();\nfunction handleSubmitSearchForm(event) {\n  event.preventDefault();\n\n  const searchingNews = event.target.search.value.trim().toLowerCase();\n\n  if (!searchingNews) {\n    return makeInfoMessage('What would you like to find?');\n  }\n\n  searchFromCurrentPage(searchingNews);\n\n  event.currentTarget.reset();\n}\n\nfunction searchFromCurrentPage(searchingNews) {\n  let storageKey = 'readNews';\n\n  readNewsDateContainer.innerHTML = '';\n\n  const listNews = document.querySelector('.read-list-news');\n\n  const newsArr = getStorage(storageKey);\n\n  const desiredNews = newsArr.filter(news =>\n    news.title.toLowerCase().includes(searchingNews)\n  );\n\n  showNothingNotFound(desiredNews);\n  appendArticleMarkup(desiredNews, listNews);\n  auditArrayNews(listNews);\n  listNews.addEventListener('click', getNewsArray);\n}\n\nfunction appendArticleMarkup(desiredNews, container) {\n  const cardSet = desiredNews\n    .map(({ photo, title, abstract, date, url, category, id, idLenght }) =>\n      markUpPage(photo, title, abstract, date, url, category, id, idLenght)\n    )\n    .join('');\n\n  container.innerHTML = cardSet;\n}\n\nfunction showNothingNotFound(arr) {\n  notFound.classList.add('not-found-hidden');\n\n  if (arr.length === 0) {\n    notFound.classList.remove('not-found-hidden');\n  }\n}\n\nfunction makeInfoMessage(message) {\n  if (window.matchMedia('(max-width: 767px)').matches) {\n    return;\n  }\n  Notify.info(message);\n}\n"],"names":["parcelRequire","$bpWze","$fbfb9775e4231423$export$d9e43056c8332a8d","$fbfb9775e4231423$export$88590ac8a86029ed","localStorage","getItem","$fbfb9775e4231423$export$5399d0ee6861d197","JSON","parse","$fbfb9775e4231423$export$46158d485db050cd","$fbfb9775e4231423$export$6a96a4d3123e48","e","target","classList","contains","id","closest","attributes","value","map","el1","index","el","indexOf","console","log","splice","setItem","stringify","parentNode","childNodes","innerHTML","remove","$fbfb9775e4231423$export$a25d6973a5ee2fc","$fbfb9775e4231423$export$77fc2acdef452939","obj","arrayFavorites","photo","date","innerText","url","title","abstract","idLenght","category","push","add","$fbfb9775e4231423$export$c0c869611b1be208","arr","querySelectorAll","forEach","element","dataset","querySelector","setAttribute","$fbfb9775e4231423$export$f0a05c063dd8b5d4","length","$6743d5fc5d62202c$var$newsList","$6743d5fc5d62202c$var$sortedNews","dateSort","object","readDate","objOfArr","$6743d5fc5d62202c$var$sortByDate","getStorage","$6743d5fc5d62202c$var$renderCardSet","param","$aDyNI","markUpPage","join","Object","keys","dateContainer","concat","$7rHhr","readNewsDateContainer","insertAdjacentHTML","document","button","nextSibling","buttonText","firstElementChild","arrDates","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","dates","box","addEventListener","err","return","lastElementChild","toggle","pageList","notFound","$h6c0i","searchForm","event","preventDefault","searchingNews","search","trim","toLowerCase","message","window","matchMedia","matches","Notify","info","$546ec1b7cc0eda61$var$makeInfoMessage","storageKey","listNews","desiredNews","filter","news","includes","container","cardSet","$546ec1b7cc0eda61$var$appendArticleMarkup","$546ec1b7cc0eda61$var$searchFromCurrentPage","currentTarget","reset"],"version":3,"file":"read.be95cb54.js.map"}