{"mappings":"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","sources":["src/read.js","src/js/read/index.js","src/js/favorites/localStorage.js","src/js/search/read-search.js"],"sourcesContent":["import './js/mobile-menu';\nimport './js/dark_theme';\n\nimport './js/read';\nimport './js/search/read-search';\n","import { getStorage } from \"../local-storage\";\nimport { markUpPage } from '../markup/index';\nimport { listNews, notFound } from '../refs/index';\nimport { readNewsDateContainer } from '../refs/index';\nimport {\n  newsId,\n  LOCALSTORAGE_KEY,\n  idArrayPars,\n    getNewsArray,\n    deletNews,\n    addToFavorite,\n    auditArrayNews,\n    idDone,\n} from '../favorites/localStorage'\nlet newsList = null;\n// -----------------------------------------------------------------------------------\nconst localStorageReadNews = getStorage('readNews');\n\n\nconst sortedNews = sortByDate(localStorageReadNews);\nstartPage();\n\n\nfunction startPage() {\n    if (!sortedNews) {\n        notFound.classList.remove('not-found-hidden');\n    } else {\n        createContainerFromDate(sortedNews);\n        renderByDate();\n        \n    };\n};\n\nfunction sortByDate(arr) {\n    const dateSort = {};\n    if (!arr) {\n        return;\n    };\n    for (let object = 0; object < arr.length; object += 1){\n        const date = arr[object].readDate;\n        const objOfArr = arr[object];\n        if (dateSort[date]) { dateSort[date].push(objOfArr) } else {\n            dateSort[date] = [objOfArr];\n        };\n    };\n    return dateSort;\n};\n\nfunction renderCardSet(arr) {\n    const cardSet = arr.map(({photo, title, abstract, date, url, category,id,  idLenght}) => markUpPage(photo, title, abstract, date, url, category, id, idLenght)).join('');\n    return cardSet\n};\n\nfunction createContainerFromDate(obj) {\n    const dates = Object.keys(obj)\n    dates.forEach((date) => {\n        const dateContainer = `<div class='date-card'>\n  <button class='date-btn'><span class='date-btn__text'>${date}</span><span class='read_icon'>\n  <svg class=\"date-btn___arrow\" width=\"14\" height=\"9\" aria-hidden=\"true\" style=\"position: absolute;>\n<symbol id=\"icon-Vector-2-1\" viewBox=\"0 0 50 32\">\n<path d=\"M5.867 0l-5.867 6.080 24.889 25.92 24.889-25.92-5.831-6.080-19.058 19.769-19.058-19.769z\"></path>\n</symbol>\n</svg >\n  </span>\n  </button>\n   <div id='dateNowList' class='list-news dates'></div>\n  </div>`;\n        readNewsDateContainer.insertAdjacentHTML(\"beforeend\", dateContainer)\n    });\n};   \n\n\n\nfunction renderByDate() {\nconst dateButton = document.querySelectorAll('.date-btn');\n    dateButton.forEach(button => {\n        newsList = button.nextSibling.nextSibling;\n        const buttonText = button.firstElementChild.innerText;\n        const arrDates = Object.keys(sortedNews);\n        for (const dates of arrDates) {\n            if (dates === buttonText) {\n                newsList.innerHTML = renderCardSet(sortedNews[dates]);\n                idDone();\n                const containersList = document.querySelectorAll('#dateNowList')\n                containersList.forEach(box => {\n                    auditArrayNews(box);\n                    box.addEventListener('click', getNewsArray);\n                });\n    };\n        };\n        button.addEventListener('click', () => {\n            console.log(button.lastElementChild.firstElementChild)\n            button.lastElementChild.firstElementChild.classList.toggle('arrow_rotate');\n            button.nextSibling.nextSibling.classList.toggle('show');\n           \n            const pageList = document.querySelector('#dateNowList')\n            console.log(pageList)\n            pageList.addEventListener('click', getNewsArray)\n        });\n    });\n};\n","\n// import {\n//   newsId,\n//   LOCALSTORAGE_KEY,\n//   idArrayPars,\n//     getNewsArray,\n//     deletNews,\n//     addToFavorite,\n//     auditArrayNews,\n//     idDone,\n// } from '../favorites/localStorage'\n\n\nexport const LOCALSTORAGE_KEY = 'ID-SAVE-FAVORITE';\n let idArray = localStorage.getItem('ID-SAVE-FAVORITE');\nexport let idArrayPars = JSON.parse(idArray) || [];\nexport let newsId = 0;\n\nexport const getNewsArray = function (e) {\n    if (!e.target.classList.contains('button')) {\n        return;\n    } else if (e.target.classList.contains('add')) {\n        deletNews(e);\n    } else {\n        addToFavorite(e);\n    }\n};\n\nexport const deletNews = function (e) {\n    const findIndex = +idArrayPars.findIndex(\n        el => el.idLenght === +e.target.attributes[2].value\n    );\n\n    idArrayPars.splice(findIndex, 1);\n\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(idArrayPars));\n    e.target.parentNode.childNodes[1].innerHTML = 'Add To Favorite';\n    e.target.classList.remove('add');\n    e.target.parentNode.childNodes[3].classList.remove('add');\n};\n\n\nexport const addToFavorite = function (e) {\n    let arrayFavorites = {\n        photo:\n            e.target.parentNode.parentNode.parentNode.childNodes[3].childNodes[1]\n                .attributes[1].value,\n        date: e.target.parentNode.parentNode.parentNode.childNodes[9].childNodes[1]\n            .innerText,\n        url: e.target.parentNode.parentNode.parentNode.childNodes[9].childNodes[3]\n            .attributes[0].value,\n        title: e.target.parentNode.parentNode.parentNode.childNodes[5].innerText,\n        abstract: e.target.parentNode.parentNode.parentNode.childNodes[7].innerText,\n        idLenght: newsId,\n        id: e.target.parentNode.parentNode.parentNode.attributes[1].value,\n        category:\n            e.target.parentNode.parentNode.parentNode.childNodes[3].childNodes[5]\n                .innerText,\n    };\n\n    idArrayPars.push(arrayFavorites);\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(idArrayPars));\n    e.target.parentNode.childNodes[3].classList.add('add');\n    e.target.classList.add('add');\n    e.target.parentNode.childNodes[1].innerHTML = 'Remove From Favorite';\n\n    newsId += 1;\n};\n\nexport const auditArrayNews = function (arr) {\n    idArrayPars.map(el => {\n        arr.querySelectorAll('.set').forEach(element => {\n            let id = element.dataset.id;\n\n            if (id === el.id) {\n                element\n                    .querySelector('.js-button_favorites')\n                    .setAttribute('checked', 'true');\n                element.querySelector('.js-button_favorites').classList.add('add');\n                element.querySelector('.icon').classList.add('add');\n                element.querySelector('lable').innerHTML = 'Remove From Favorite';\n            }\n        });\n    });\n};\n\nexport const idDone = function () {\n    if (idArrayPars.length === 0) {\n        return;\n    } else {\n        newsId = idArrayPars[idArrayPars.length - 1].idLenght + 1 || 0;\n    }\n};","import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nimport { searchForm, readNewsDateContainer, notFound } from '../refs/index';\nimport { getStorage } from '../local-storage/index';\nimport { markUpPage } from '../markup/index';\n\nsearchForm.addEventListener('submit', handleSubmitSearchForm);\n\nfunction handleSubmitSearchForm(event) {\n  event.preventDefault();\n\n  const searchingNews = event.target.search.value.trim().toLowerCase();\n\n  if (!searchingNews) {\n    return makeInfoMessage('What would you like to find?');\n  }\n\n  searchFromCurrentPage(searchingNews);\n\n  event.currentTarget.reset();\n}\n\nfunction searchFromCurrentPage(searchingNews) {\n  let storageKey = 'readNews';\n\n  readNewsDateContainer.innerHTML = '';\n\n  const listNews = document.querySelector('.read-list-news');\n\n  const newsArr = getStorage(storageKey);\n\n  const desiredNews = newsArr.filter(news =>\n    news.title.toLowerCase().includes(searchingNews)\n  );\n\n  showNothingNotFound(desiredNews);\n  appendArticleMarkup(desiredNews, listNews);\n}\n\nfunction appendArticleMarkup(desiredNews, container) {\n  const cardSet = desiredNews\n    .map(({ photo, title, abstract, date, url, category, id, idLenght }) =>\n      markUpPage(photo, title, abstract, date, url, category, id, idLenght)\n    )\n    .join('');\n\n  container.innerHTML = cardSet;\n}\n\nfunction showNothingNotFound(arr) {\n  notFound.classList.add('not-found-hidden');\n\n  if (arr.length === 0) {\n    notFound.classList.remove('not-found-hidden');\n  }\n}\n\nfunction makeInfoMessage(message) {\n  if (window.matchMedia('(max-width: 767px)').matches) {\n    return;\n  }\n  Notify.info(message);\n}\n"],"names":["parcelRequire","$eLqhd","$a1983b325cb0aacc$var$idArray","localStorage","getItem","$a1983b325cb0aacc$export$5399d0ee6861d197","JSON","parse","$a1983b325cb0aacc$export$46158d485db050cd","$a1983b325cb0aacc$export$6a96a4d3123e48","e","target","classList","contains","$a1983b325cb0aacc$export$a25d6973a5ee2fc","$a1983b325cb0aacc$export$77fc2acdef452939","findIndex","el","idLenght","attributes","value","splice","setItem","stringify","parentNode","childNodes","innerHTML","remove","arrayFavorites","photo","date","innerText","url","title","abstract","id","category","push","add","$a1983b325cb0aacc$export$c0c869611b1be208","arr","map","querySelectorAll","forEach","element","dataset","querySelector","setAttribute","$a1983b325cb0aacc$export$f0a05c063dd8b5d4","length","$2f931b6fc00751e1$var$newsList","$2f931b6fc00751e1$var$sortedNews","dateSort","object","readDate","objOfArr","$2f931b6fc00751e1$var$sortByDate","getStorage","obj","$2f931b6fc00751e1$var$renderCardSet","$6eyJa","markUpPage","join","Object","keys","dateContainer","$icTnc","readNewsDateContainer","insertAdjacentHTML","document","button","nextSibling","buttonText","firstElementChild","arrDates","dates","box","addEventListener","console","log","lastElementChild","toggle","pageList","notFound","$iQIUW","searchForm","event","preventDefault","searchingNews","search","trim","toLowerCase","message","window","matchMedia","matches","Notify","info","$a2204ae2c1c7389a$var$makeInfoMessage","storageKey","listNews","desiredNews","filter","news","includes","container","cardSet","$a2204ae2c1c7389a$var$appendArticleMarkup","$a2204ae2c1c7389a$var$searchFromCurrentPage","currentTarget","reset"],"version":3,"file":"read.9d4bd868.js.map"}