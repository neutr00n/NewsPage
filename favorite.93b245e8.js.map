{"mappings":"gfAAAA,EAAA,S,WCAA,IAaMC,EAbNC,EAAAF,EAAA,SAEMG,EAAWC,SAASC,cAAc,cAGpCC,EAAUC,aAAaC,QAAQ,oBAC/BC,EAAcC,KAAKC,MAAML,IAAY,GAqDlC,SAASM,IACdH,EAAYI,KAAI,SAAAC,GACdX,EAASY,iBAAiB,QAAQC,SAAQ,SAAAC,GAC/BA,EAAQC,QAAQC,KAEdL,EAAGK,KACZF,EACGZ,cAAc,wBACde,aAAa,UAAW,QAC3BH,EAAQZ,cAAc,wBAAwBgB,UAAUC,IAAI,OAC5DL,EAAQZ,cAAc,SAASgB,UAAUC,IAAI,OAE7CL,EAAQZ,cAAc,SAASkB,UAAY,uB,OA/DnDpB,EAASqB,iBAAiB,UAmC1B,SAA2BC,GACzB,IAAKA,EAAEC,OAAOL,UAAUM,SAAS,UAC/B,OACK,GAAIF,EAAEC,OAAOL,UAAUM,SAAS,OAAQ,CAC7C,IAAMC,GAAanB,EAAYmB,WAC7B,SAAAd,G,OAAMA,EAAGe,YAAcJ,EAAEC,OAAOI,WAAW,GAAGC,K,IAEhDC,QAAQC,IAAIR,EAAEC,OAAOI,WAAW,GAAGC,OACnCtB,EAAYyB,OAAON,EAAW,GAE9BrB,aAAa4B,QAjDQ,mBAiDkBzB,KAAK0B,UAAU3B,IAEtDgB,EAAEC,OAAOW,WAAWA,WAAWA,WAAWC,Q,KA1CxCrC,EAJaQ,EAKdI,KACC,SAAA0B,G,IACEC,EAAGD,EAAHC,IAEAC,GADKF,EAALG,MACKH,EAALE,OACAE,EAAQJ,EAARI,SACAC,EAAIL,EAAJK,KACAC,EAAKN,EAALM,MACA1B,EAAEoB,EAAFpB,GACAU,EAAQU,EAARV,SACAiB,EAAQP,EAARO,SAGA,OADAd,QAAQC,IAAIQ,IACL,EAAAvC,EAAA6C,YACLF,EACAJ,EACAE,EACAC,EACAJ,EACAM,EACA3B,EACAU,E,IAILmB,KAAK,IACR7C,EAAS8C,mBAAmB,YAAahD,GA9B3CW,ICVA,IAAAsC,EAAAlD,EAAA,S,uCAOAmD,EAAAC,WAAW5B,iBAAiB,UAE5B,SAAgC6B,GAC9BA,EAAMC,iBAEN,IAAMC,EAAgBF,EAAM3B,OAAO8B,OAAOzB,MAAM0B,OAAOC,cAEvD,IAAKH,EACH,OA2CqBI,EA3CE,oCA4CzBT,EAAAU,OAAOC,KAAKF,GADd,IAAyBA,GAnCzB,SAA+BJ,GAC7B,IAAIO,EAAa,mBAEXC,EAAW3D,SAASC,cAAc,cACxC0D,EAASxC,UAAY,GAErB,IAEMyC,GAFU,EAAAC,EAAAC,YAAWJ,GAECK,QAAO,SAAAC,G,OACjCA,EAAK3B,MAAMiB,cAAcW,SAASd,E,KAkBtC,SAA6Be,GAC3BnB,EAAAoB,SAASlD,UAAUC,IAAI,oBAEJ,IAAfgD,EAAIE,QACNrB,EAAAoB,SAASlD,UAAUiB,OAAO,mB,EAnB5BmC,CAAoBT,GAKtB,SAA6BA,EAAaU,GACxC,IAAMC,EAAUX,EACbnD,KAAI,SAAA0B,G,IAAGM,EAAKN,EAALM,MAAOJ,EAAKF,EAALE,MAAOE,EAAQJ,EAARI,SAAUC,EAAIL,EAAJK,KAAMJ,EAAGD,EAAHC,IAAKM,EAAQP,EAARO,SAAU3B,EAAEoB,EAAFpB,GAAIU,EAAQU,EAARV,S,OACvD,EAAA3B,EAAA6C,YAAWF,EAAOJ,EAAOE,EAAUC,EAAMJ,EAAKM,EAAU3B,EAAIU,E,IAE7DmB,KAAK,IAER0B,EAAUnD,UAAYoD,C,CAXtBC,CAAoBZ,EAAaD,GACjCnD,G,EAnBAiE,CAAsBtB,GAEtBF,EAAMyB,cAAcC,O","sources":["src/favorite.js","src/js/favorites/index.js","src/js/search/favorites-search.js"],"sourcesContent":["import './js/mobile-menu';\nimport './js/dark_theme';\n\nimport './js/favorites';\nimport './js/search/favorites-search';\n","import { markUpPage } from '../markup/index';\n// const favoritesEL = document.querySelector('.favorits-list');\nconst listNews = document.querySelector('.list-news');\n\nconst LOCALSTORAGE_KEY = 'ID-SAVE-FAVORITE';\nlet idArray = localStorage.getItem('ID-SAVE-FAVORITE');\nlet idArrayPars = JSON.parse(idArray) || [];\n\nlistNews.addEventListener('change', deletNewsFavorite);\ncreatFavoritesList(idArrayPars);\nauditArrayNews();\n\nfunction creatFavoritesList(arr) {\n  let array = arr\n    .map(\n      ({\n        url,\n        media,\n        title,\n        abstract,\n        date,\n        photo,\n        id,\n        idLenght,\n        category,\n      }) => {\n        console.log(title);\n        return markUpPage(\n          photo,\n          title,\n          abstract,\n          date,\n          url,\n          category,\n          id,\n          idLenght\n        );\n      }\n    )\n    .join('');\n  listNews.insertAdjacentHTML('beforeend', array);\n}\n\nfunction deletNewsFavorite(e) {\n  if (!e.target.classList.contains('button')) {\n    return;\n  } else if (e.target.classList.contains('add')) {\n    const findIndex = +idArrayPars.findIndex(\n      el => el.idLenght === +e.target.attributes[2].value\n    );\n    console.log(e.target.attributes[2].value);\n    idArrayPars.splice(findIndex, 1);\n\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(idArrayPars));\n\n    e.target.parentNode.parentNode.parentNode.remove();\n  }\n}\n\nexport function auditArrayNews() {\n  idArrayPars.map(el => {\n    listNews.querySelectorAll('.set').forEach(element => {\n      let id = element.dataset.id;\n\n      if (id === el.id) {\n        element\n          .querySelector('.js-button_favorites')\n          .setAttribute('checked', 'true');\n        element.querySelector('.js-button_favorites').classList.add('add');\n        element.querySelector('.icon').classList.add('add');\n\n        element.querySelector('lable').innerHTML = 'Remove From Favorite';\n      }\n    });\n  });\n}\n\nexport function buttonClass() {\n  let but = document.querySelectorAll('.js-button_favorites');\n  let label = document.querySelectorAll('lable');\n\n  but.forEach(el => {\n    el.setAttribute('checked', 'true');\n    el.classList.add('add');\n  });\n\n  label.forEach(el => {\n    el.innerHTML = 'Remove From Favorite';\n  });\n}\n","import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nimport { searchForm, readNewsDateContainer, notFound } from '../refs/index';\nimport { getStorage } from '../local-storage/index';\nimport { markUpPage } from '../markup/index';\nimport { auditArrayNews } from '../favorites/index'; //\n\nsearchForm.addEventListener('submit', handleSubmitSearchForm);\n\nfunction handleSubmitSearchForm(event) {\n  event.preventDefault();\n\n  const searchingNews = event.target.search.value.trim().toLowerCase();\n\n  if (!searchingNews) {\n    return makeInfoMessage('What would you like to find?');\n  }\n\n  searchFromCurrentPage(searchingNews);\n\n  event.currentTarget.reset();\n}\n\nfunction searchFromCurrentPage(searchingNews) {\n  let storageKey = 'ID-SAVE-FAVORITE';\n\n  const listNews = document.querySelector('.list-news');\n  listNews.innerHTML = '';\n\n  const newsArr = getStorage(storageKey);\n\n  const desiredNews = newsArr.filter(news =>\n    news.title.toLowerCase().includes(searchingNews)\n  );\n\n  showNothingNotFound(desiredNews);\n  appendArticleMarkup(desiredNews, listNews);\n  auditArrayNews();\n}\n\nfunction appendArticleMarkup(desiredNews, container) {\n  const cardSet = desiredNews\n    .map(({ photo, title, abstract, date, url, category, id, idLenght }) =>\n      markUpPage(photo, title, abstract, date, url, category, id, idLenght)\n    )\n    .join('');\n\n  container.innerHTML = cardSet;\n}\n\nfunction showNothingNotFound(arr) {\n  notFound.classList.add('not-found-hidden');\n\n  if (arr.length === 0) {\n    notFound.classList.remove('not-found-hidden');\n  }\n}\n\nfunction makeInfoMessage(message) {\n  Notify.info(message);\n}\n"],"names":["parcelRequire","array","$aDyNI","$7a5ee36cdaf045b9$var$listNews","document","querySelector","$7a5ee36cdaf045b9$var$idArray","localStorage","getItem","$7a5ee36cdaf045b9$var$idArrayPars","JSON","parse","$7a5ee36cdaf045b9$export$c0c869611b1be208","map","el","querySelectorAll","forEach","element","dataset","id","setAttribute","classList","add","innerHTML","addEventListener","e","target","contains","findIndex","idLenght","attributes","value","console","log","splice","setItem","stringify","parentNode","remove","param","url","title","media","abstract","date","photo","category","markUpPage","join","insertAdjacentHTML","$h6c0i","$7rHhr","searchForm","event","preventDefault","searchingNews","search","trim","toLowerCase","message","Notify","info","storageKey","listNews","desiredNews","$bpWze","getStorage","filter","news","includes","arr","notFound","length","$a83cc4d96efdeb5e$var$showNothingNotFound","container","cardSet","$a83cc4d96efdeb5e$var$appendArticleMarkup","$a83cc4d96efdeb5e$var$searchFromCurrentPage","currentTarget","reset"],"version":3,"file":"favorite.93b245e8.js.map"}