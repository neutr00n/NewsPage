{"mappings":"oeAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,SAEA,MAAME,EAAWC,SAASC,cAAc,cAGxC,IAAIC,EAAUC,aAAaC,QAAQ,oBAC/BC,EAAcC,KAAKC,MAAML,IAAY,GAqDlC,SAASM,IACdH,EAAYI,KAAIC,IACdX,EAASY,iBAAiB,QAAQC,SAAQC,IAC/BA,EAAQC,QAAQC,KAEdL,EAAGK,KACZF,EACGZ,cAAc,wBACde,aAAa,UAAW,QAC3BH,EAAQZ,cAAc,wBAAwBgB,UAAUC,IAAI,OAC5DL,EAAQZ,cAAc,OAAOgB,UAAUC,IAAI,OAE3CL,EAAQZ,cAAc,SAASkB,UAAY,uB,GAE7C,G,CAjENpB,EAASqB,iBAAiB,UAmC1B,SAA2BC,GACzB,IAAKA,EAAEC,OAAOL,UAAUM,SAAS,UAC/B,OACK,GAAIF,EAAEC,OAAOL,UAAUM,SAAS,OAAQ,CAC7C,MAAMC,GAAanB,EAAYmB,WAC7Bd,GAAMA,EAAGe,YAAcJ,EAAEC,OAAOI,WAAW,GAAGC,QAEhDC,QAAQC,IAAIR,EAAEC,OAAOI,WAAW,GAAGC,OACnCtB,EAAYyB,OAAON,EAAW,GAE9BrB,aAAa4B,QAjDQ,mBAiDkBzB,KAAK0B,UAAU3B,IAEtDgB,EAAEC,OAAOW,WAAWA,WAAWA,WAAWC,Q,KA3C9C,SAA4BC,GAC1B,IAAIC,EAAQD,EACT1B,KACC,EAAC4B,IACCA,EAAGC,MACHA,EAAKC,MACLA,EAAKC,SACLA,EAAQC,KACRA,EAAIC,MACJA,EAAK3B,GACLA,EAAEU,SACFA,EAAQkB,SACRA,MAEAf,QAAQC,IAAIU,IACL,EAAAzC,EAAA8C,YACLF,EACAH,EACAC,EACAC,EACAJ,EACAM,EACA5B,EACAU,MAILoB,KAAK,IACR9C,EAAS+C,mBAAmB,YAAaV,E,CA/B3CW,CAAmB1C,GACnBG,ICVA,IAAAwC,EAAAnD,EAAA,S,uCAOAoD,EAAAC,WAAW9B,iBAAiB,UAE5B,SAAgC+B,GAC9BA,EAAMC,iBAEN,MAAMC,EAAgBF,EAAM7B,OAAOgC,OAAO3B,MAAM4B,OAAOC,cAEvD,IAAKH,EACH,OA2CqBI,EA3CE,oCA4CzBT,EAAAU,OAAOC,KAAKF,GADd,IAAyBA,GAnCzB,SAA+BJ,GAC7B,IAAIO,EAAa,mBAEjB,MAAMC,EAAW7D,SAASC,cAAc,cACxC4D,EAAS1C,UAAY,GAErB,MAEM2C,GAFU,EAAAC,EAAAC,YAAWJ,GAECK,QAAOC,GACjCA,EAAK3B,MAAMiB,cAAcW,SAASd,KAkBTlB,EAfP2B,EAgBpBb,EAAAmB,SAASnD,UAAUC,IAAI,oBAEJ,IAAfiB,EAAIkC,QACNpB,EAAAmB,SAASnD,UAAUiB,OAAO,oBAd9B,SAA6B4B,EAAaQ,GACxC,MAAMC,EAAUT,EACbrD,KAAI,EAACiC,MAAEA,EAAKH,MAAEA,EAAKC,SAAEA,EAAQC,KAAEA,EAAIJ,IAAEA,EAAGM,SAAEA,EAAQ5B,GAAEA,EAAEU,SAAEA,MACvD,EAAA3B,EAAA8C,YAAWF,EAAOH,EAAOC,EAAUC,EAAMJ,EAAKM,EAAU5B,EAAIU,KAE7DoB,KAAK,IAERyB,EAAUnD,UAAYoD,C,CAXtBC,CAAoBV,EAAaD,GACjCrD,IAaF,IAA6B2B,C,EAhC3BsC,CAAsBpB,GAEtBF,EAAMuB,cAAcC,O","sources":["src/favorite.js","src/js/favorites/index.js","src/js/search/favorites-search.js"],"sourcesContent":["import './js/mobile-menu';\nimport './js/dark_theme';\n\nimport './js/favorites';\nimport './js/search/favorites-search';\n","import { markUpPage } from '../markup/index';\n// const favoritesEL = document.querySelector('.favorits-list');\nconst listNews = document.querySelector('.list-news');\n\nconst LOCALSTORAGE_KEY = 'ID-SAVE-FAVORITE';\nlet idArray = localStorage.getItem('ID-SAVE-FAVORITE');\nlet idArrayPars = JSON.parse(idArray) || [];\n\nlistNews.addEventListener('change', deletNewsFavorite);\ncreatFavoritesList(idArrayPars);\nauditArrayNews();\n\nfunction creatFavoritesList(arr) {\n  let array = arr\n    .map(\n      ({\n        url,\n        media,\n        title,\n        abstract,\n        date,\n        photo,\n        id,\n        idLenght,\n        category,\n      }) => {\n        console.log(title);\n        return markUpPage(\n          photo,\n          title,\n          abstract,\n          date,\n          url,\n          category,\n          id,\n          idLenght\n        );\n      }\n    )\n    .join('');\n  listNews.insertAdjacentHTML('beforeend', array);\n}\n\nfunction deletNewsFavorite(e) {\n  if (!e.target.classList.contains('button')) {\n    return;\n  } else if (e.target.classList.contains('add')) {\n    const findIndex = +idArrayPars.findIndex(\n      el => el.idLenght === +e.target.attributes[2].value\n    );\n    console.log(e.target.attributes[2].value);\n    idArrayPars.splice(findIndex, 1);\n\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(idArrayPars));\n\n    e.target.parentNode.parentNode.parentNode.remove();\n  }\n}\n\nexport function auditArrayNews() {\n  idArrayPars.map(el => {\n    listNews.querySelectorAll('.set').forEach(element => {\n      let id = element.dataset.id;\n\n      if (id === el.id) {\n        element\n          .querySelector('.js-button_favorites')\n          .setAttribute('checked', 'true');\n        element.querySelector('.js-button_favorites').classList.add('add');\n        element.querySelector('svg').classList.add('add');\n\n        element.querySelector('lable').innerHTML = 'Remove From Favorite';\n      }\n    });\n  });\n}\n\nexport function buttonClass() {\n  let but = document.querySelectorAll('.js-button_favorites');\n  let label = document.querySelectorAll('lable');\n\n  but.forEach(el => {\n    el.setAttribute('checked', 'true');\n    el.classList.add('add');\n  });\n\n  label.forEach(el => {\n    el.innerHTML = 'Remove From Favorite';\n  });\n}\n","import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nimport { searchForm, readNewsDateContainer, notFound } from '../refs/index';\nimport { getStorage } from '../local-storage/index';\nimport { markUpPage } from '../markup/index';\nimport { auditArrayNews } from '../favorites/index'; //\n\nsearchForm.addEventListener('submit', handleSubmitSearchForm);\n\nfunction handleSubmitSearchForm(event) {\n  event.preventDefault();\n\n  const searchingNews = event.target.search.value.trim().toLowerCase();\n\n  if (!searchingNews) {\n    return makeInfoMessage('What would you like to find?');\n  }\n\n  searchFromCurrentPage(searchingNews);\n\n  event.currentTarget.reset();\n}\n\nfunction searchFromCurrentPage(searchingNews) {\n  let storageKey = 'ID-SAVE-FAVORITE';\n\n  const listNews = document.querySelector('.list-news');\n  listNews.innerHTML = '';\n\n  const newsArr = getStorage(storageKey);\n\n  const desiredNews = newsArr.filter(news =>\n    news.title.toLowerCase().includes(searchingNews)\n  );\n\n  showNothingNotFound(desiredNews);\n  appendArticleMarkup(desiredNews, listNews);\n  auditArrayNews();\n}\n\nfunction appendArticleMarkup(desiredNews, container) {\n  const cardSet = desiredNews\n    .map(({ photo, title, abstract, date, url, category, id, idLenght }) =>\n      markUpPage(photo, title, abstract, date, url, category, id, idLenght)\n    )\n    .join('');\n\n  container.innerHTML = cardSet;\n}\n\nfunction showNothingNotFound(arr) {\n  notFound.classList.add('not-found-hidden');\n\n  if (arr.length === 0) {\n    notFound.classList.remove('not-found-hidden');\n  }\n}\n\nfunction makeInfoMessage(message) {\n  Notify.info(message);\n}\n"],"names":["parcelRequire","$6eyJa","$5e753db6f7d9467d$var$listNews","document","querySelector","$5e753db6f7d9467d$var$idArray","localStorage","getItem","$5e753db6f7d9467d$var$idArrayPars","JSON","parse","$5e753db6f7d9467d$export$c0c869611b1be208","map","el","querySelectorAll","forEach","element","dataset","id","setAttribute","classList","add","innerHTML","addEventListener","e","target","contains","findIndex","idLenght","attributes","value","console","log","splice","setItem","stringify","parentNode","remove","arr","array","url","media","title","abstract","date","photo","category","markUpPage","join","insertAdjacentHTML","$5e753db6f7d9467d$var$creatFavoritesList","$iQIUW","$icTnc","searchForm","event","preventDefault","searchingNews","search","trim","toLowerCase","message","Notify","info","storageKey","listNews","desiredNews","$eLqhd","getStorage","filter","news","includes","notFound","length","container","cardSet","$62eed2354a341000$var$appendArticleMarkup","$62eed2354a341000$var$searchFromCurrentPage","currentTarget","reset"],"version":3,"file":"favorite.8a8d82c8.js.map"}